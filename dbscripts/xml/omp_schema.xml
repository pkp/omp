<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE schema SYSTEM "../../lib/pkp/dtd/xmlSchema.dtd">

<!--
  * omp_schema.xml
  *
  * Copyright (c) 2003-2008 John Willinsky
  * Distributed under the GNU GPL v2. For full terms see the file docs/COPYING.
  *
  * OMP database schema in XML.
  *
  * $Id: 
  -->

<schema version="0.2">


	<!--
	  *
	  * TABLE edit_assignments
	  *
	  -->
	<table name="edit_assignments">
		<field name="edit_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="editor_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="can_edit" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="can_review" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="date_assigned" type="T"/>
		<field name="date_notified" type="T"/>
		<field name="date_underway" type="T"/>
		<descr>Editing assignments.</descr>
		<index name="edit_assignments_article_id">
			<col>article_id</col>
		</index>
		<index name="edit_assignments_editor_id">
			<col>editor_id</col>
		</index>
	</table>
	<!--
	  *
	  * TABLE edit_decisions
	  *
	  -->
	<table name="edit_decisions">
		<field name="edit_decision_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="round" type="I1">
			<NOTNULL/>
		</field>
		<field name="editor_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="decision" type="I1">
			<NOTNULL/>
		</field>
		<field name="date_decided" type="T">
			<NOTNULL/>
		</field>
		<descr>Editor decisions.</descr>
		<index name="edit_decisions_article_id">
			<col>article_id</col>
		</index>
		<index name="edit_decisions_editor_id">
			<col>editor_id</col>
		</index>
	</table>
	<!--
	  *
	  * TABLE article_files
	  *
	  -->
	<table name="monograph_files">
		<field name="file_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="revision" type="I8">
			<KEY />
		</field>
		<field name="source_file_id" type="I8" />
		<field name="source_revision" type="I8" />
		<field name="monograph_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="file_name" type="C2" size="90">
			<NOTNULL/>
		</field>
		<field name="file_type" type="C2" size="255">
			<NOTNULL/>
		</field>
		<field name="file_size" type="I8">
			<NOTNULL/>
		</field>
		<field name="original_file_name" type="C2" size="127"/>
		<field name="type" type="C2" size="40">
			<NOTNULL/>
		</field>
		<field name="status" type="C2" size="40">
			<NOTNULL/>
		</field>
		<field name="viewable" type="I1" />
		<field name="date_uploaded" type="T">
			<NOTNULL/>
		</field>
		<field name="date_modified" type="T">
			<NOTNULL/>
		</field>
		<field name="round" type="I1">
			<NOTNULL/>
		</field>
		<field name="assoc_id" type="I8"/>
		<descr>Files associated with monograph. Includes submission files, supplementary files, etc.</descr>
		<index name="monograph_files_monograph_id">
			<col>monograph_id</col>
		</index>
	</table>
	<!--
	  *
	  * TABLE review_rounds
	  *
	  -->
	<table name="review_rounds">
		<field name="monograph_id" type="I8">
			<NOTNULL />
		</field>
		<field name="round" type="I1">
			<NOTNULL />
		</field>
		<field name="review_revision" type="I8" />
		<descr>Review rounds.</descr>
		<index name="review_rounds_article_id">
			<col>article_id</col>
		</index>
		<index name="review_rounds_pkey">
			<col>article_id</col>
			<col>round</col>
			<UNIQUE/>
		</index>
	</table>		
		
	<!--
	  *
	  * TABLE review_assignments
	  *
	  -->
	<table name="review_assignments">
		<field name="review_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="reviewer_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="competing_interests" type="X"/>
		<field name="recommendation" type="I1"/>
		<field name="date_assigned" type="T"/>
		<field name="date_notified" type="T"/>
		<field name="date_confirmed" type="T"/>
		<field name="date_completed" type="T"/>
		<field name="date_acknowledged" type="T"/>
		<field name="date_due" type="T"/>
		<field name="last_modified" type="T"/>
		<field name="reminder_was_automatic" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="declined" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="replaced" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="cancelled" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="reviewer_file_id" type="I8"/>
		<field name="date_rated" type="T"/>
		<field name="date_reminded" type="T"/>
		<field name="quality" type="I1"/>
		<field name="round" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="review_form_id" type="I8"/>
		<descr>Reviewing assignments.</descr>
		<index name="review_assignments_article_id">
			<col>article_id</col>
		</index>
		<index name="review_assignments_reviewer_id">
			<col>reviewer_id</col>
		</index>
	</table>
	
	<!--
	  *
	  * TABLE site
	  *
	  -->
	<table name="site">
		<field name="title" type="C2" size="120">
			<NOTNULL />
			<DEFAULT VALUE="Open Monograph Press"/>
		</field>
		<field name="intro" type="X"/>
		<field name="redirect" type="I8">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
			<descr>If not 0, redirect to the specified press site.</descr>
		</field>
		<field name="primary_locale" type="C2" size="5">
			<NOTNULL/>
		</field>
		<field name="about" type="X"/>
		<field name="contact_name" type="C2" size="90"/>
		<field name="contact_email" type="C2" size="90"/>
		<field name="min_password_length" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="6"/>
		</field>
		<field name="installed_locales" type="C2" size="255">
			<NOTNULL/>
			<DEFAULT VALUE="en_US"/>
			<descr>Locales for which support has been installed.</descr>
		</field>
		<field name="supported_locales" type="C2" size="255">
			<descr>Locales supported by the site (for hosted presss).</descr>
		</field>
		<field name="original_style_file_name" type="C2" size="255"/>
		<descr>Common site settings.</descr>
	</table>
	
	<!--
	  *
	  * TABLE site_settings
	  *
	  -->
	<table name="site_settings">
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Site settings.</descr>
	</table>

	<!--
	  *
	  * TABLE users
	  *
	  -->
	<table name="users">
		<field name="user_id" type="I8">
			<KEY />
			<AUTOINCREMENT />
		</field>
		<field name="username" type="C2" size="32">
			<NOTNULL/>
		</field>
		<field name="password" type="C2" size="40">
			<NOTNULL/>
		</field>
		<field name="salutation" type="C2" size="40"/>
		<field name="first_name" type="C2" size="40">
			<NOTNULL/>
		</field>
		<field name="middle_name" type="C2" size="40"/>
		<field name="last_name" type="C2" size="90">
			<NOTNULL/>
		</field>
		<field name="signature" type="X"/>
		<field name="gender" type="C" size="1"/>
		<field name="initials" type="C2" size="5"/>
		<field name="affiliation" type="C2" size="255"/>
		<field name="email" type="C2" size="90">
			<NOTNULL/>
		</field>
		<field name="url" type="C2" size="255"/>
		<field name="phone" type="C2" size="24"/>
		<field name="fax" type="C2" size="24"/>
		<field name="mailing_address" type="C2" size="255"/>
		<field name="country" type="C2" size="90"/>
		<field name="biography" type="X"/>
		<field name="interests" type="C2" size="255"/>
		<field name="locales" type="C2" size="255"/>
		<field name="date_last_email" type="T"/>
		<field name="date_registered" type="T">
			<NOTNULL/>
		</field>
		<field name="date_validated" type="T"/>
		<field name="date_last_login" type="T">
			<NOTNULL/>
		</field>
		<field name="must_change_password" type="I1"/>
		<field name="auth_id" type="I8"/>
		<field name="disabled" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="disabled_reason" type="X"/>
		<field name="auth_str" type="T" />
		<descr>User authentication credentials and profile data.</descr>
	</table>

	<!--
	  *
	  * TABLE user_settings
	  *
	  -->
	<table name="user_settings">
		<field name="user_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL/>
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL/>
		</field>
		<field name="press_id" type="I8"/>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
		</field>
		<descr>Locale-specific user data</descr>
		<index name="user_settings_user_id">
			<col>user_id</col>
		</index>
		<index name="user_settings_pkey">
			<col>user_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE />
		</index>
	</table>


	<!--
	  *
	  * TABLE sessions
	  *
	  -->
	<table name="sessions">
		<field name="session_id" type="C2" size="32">
			<NOTNULL />
		</field>
		<field name="user_id" type="I8"/>
		<field name="ip_address" type="C2" size="15">
			<NOTNULL/>
		</field>
		<field name="user_agent" type="C2" size="255"/>
		<field name="created" type="I8">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="last_used" type="I8">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="remember" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="data" type="X">
			<NOTNULL/>
			<DEFAULT VALUE=""/>
		</field>
		<descr>Browser/user sessions and session data.</descr>
	</table>

	
	<!--
	  *
	  * TABLE plugin_settings
	  *
	  -->
	<table name="plugin_settings">
		<field name="plugin_name" type="C2" size="80">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="press_id" type="I8">
			<NOTNULL />
		</field>
		<field name="setting_name" type="C2" size="80">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Press settings.</descr>
	</table>
	
	<!--
	  *
	  * TABLE roles
	  *
	  -->
	<table name="roles">
		<field name="press_id" type="I8">
			<NOTNULL />
		</field>
		<field name="user_id" type="I8">
			<NOTNULL />
		</field>
		<field name="role_id" type="I8">
			<NOTNULL />
		</field>
		<descr>User roles in presss.</descr>
	</table>

	<!--
	  *
	  * TABLE presses
	  *
	  -->
	<table name="presses">
		<field name="press_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="path" type="C2" size="32">
			<NOTNULL/>
		</field>
		<field name="seq" type="F">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="primary_locale" type="C2" size="5">
			<NOTNULL/>
		</field>
		<field name="enabled" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<descr>Presses and basic press settings.</descr>
		<index name="press_path">
			<col>path</col>
			<UNIQUE />
		</index>
	</table>

	<!--
	  *
	  * TABLE press_settings
	  *
	  -->
	<table name="press_settings">
		<field name="press_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL/>
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL/>
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Press settings.</descr>
		<index name="press_settings_press_id">
			<col>press_id</col>
		</index>
		<index name="press_settings_pkey">
			<col>press_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE />
		</index>
	</table>
	
	<!--
	  *
	  * TABLE email_templates_default
	  *
	  -->
	<table name="email_templates_default">
		<field name="email_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="email_key" type="C2" size="30">
			<NOTNULL/>
			<descr>Unique identifier for this email.</descr>
		</field>
		<field name="can_disable" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="can_edit" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="from_role_id" type="I8"/>
		<field name="to_role_id" type="I8"/>
		<descr>Default press email templates.</descr>
	</table>
	
	<!--
	  *
	  * TABLE email_templates_default_data
	  *
	  -->
	<table name="email_templates_default_data">
		<field name="email_key" type="C2" size="30">
			<NOTNULL />
			<descr>Unique identifier for this email.</descr>
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE="en_US"/>
		</field>
		<field name="subject" type="C2" size="120">
			<NOTNULL/>
		</field>
		<field name="body" type="X"/>
		<field name="description" type="X"/>
		<descr>Default data for press email templates.</descr>
	</table>
	
	<!--
	  *
	  * TABLE email_templates
	  *
	  -->
	<table name="email_templates">
		<field name="email_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="email_key" type="C2" size="30">
			<NOTNULL/>
			<descr>Unique identifier for this email.</descr>
		</field>
		<field name="press_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="enabled" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<descr>Templates for press emails.</descr>
	</table>
	
	<!--
	  *
	  * TABLE email_templates_data
	  *
	  -->
	<table name="email_templates_data">
		<field name="email_key" type="C2" size="30">
			<NOTNULL />
			<descr>Unique identifier for this email.</descr>
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE="en_US"/>
		</field>
		<field name="press_id" type="I8">
			<NOTNULL />
		</field>
		<field name="subject" type="C2" size="120">
			<NOTNULL/>
		</field>
		<field name="body" type="X"/>
		<descr>Data for press email templates.</descr>
	</table>
	
		<!--
	  *
	  * TABLE monograph_authors
	  *
	  -->
	<table name="monograph_authors">
		<field name="author_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="primary_contact" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="contribution_type" type="I8">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="seq" type="F">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="first_name" type="C2" size="40">
			<NOTNULL/>
		</field>
		<field name="middle_name" type="C2" size="40"/>
		<field name="last_name" type="C2" size="90">
			<NOTNULL/>
		</field>
		<field name="affiliation" type="C2" size="255"/>
		<field name="country" type="C2" size="90"/>
		<field name="email" type="C2" size="90">
			<NOTNULL/>
		</field>
		<field name="url" type="C2" size="255"/>
		<descr>Author metadata for monographs.</descr>
		<index name="monograph_authors_monograph_id">
			<col>monograph_id</col>
		</index>
	</table>
	
	<!--
	  *
	  * TABLE monograph_author_settings
	  *
	  -->
	<table name="monograph_author_settings">
		<field name="author_id" type="I8">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Language dependent author metadata.</descr>
		<index name="monograph_author_settings_author_id">
			<col>author_id</col>
		</index>
		<index name="monograph_author_settings_pkey">
			<col>author_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE/>
		</index>
	</table>
	
	<table name="monograph_component_settings">
		<field name="component_id" type="I8">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Language dependent monograph component metadata.</descr>
		<index name="monograph_component_settings_component_id">
			<col>component_id</col>
		</index>
		<index name="monograph_component_settings_pkey">
			<col>component_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE/>
		</index>
	</table>
	<!--
	  *
	  * TABLE sections
	  *
	  -->
	<table name="sections">
		<field name="section_id" type="I8">
			<KEY />
			<AUTOINCREMENT />
		</field>
		<field name="press_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="review_form_id" type="I8" />
		<field name="seq" type="F">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="editor_restricted" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="meta_indexed" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="meta_reviewed" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="abstracts_not_required" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_title" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_author" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_about" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="disable_comments" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<descr>Monograph Sections.</descr>
		<index name="sections_press_id">
			<col>press_id</col>
		</index>
	</table>
	
	<!--
	  *
	  * TABLE section_settings
	  *
	  -->
	<table name="section_settings">
		<field name="section_id" type="I8">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Section-specific settings</descr>
		<index name="section_settings_section_id">
			<col>section_id</col>
		</index>
		<index name="section_settings_pkey">
			<col>section_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE />
		</index>
	</table>
	<table name="monograph_component_authors">
		<field name="author_id" type="I8">
			<NOTNULL />
		</field>
		<field name="component_id" type="I8">
			<NOTNULL />
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL />
		</field>
		<field name="seq" type="F">
			<NOTNULL />
			<DEFAULT VALUE="0"/>
		</field>
	</table>
	<table name="monograph_components">
		<field name="component_id" type="I8">
			<KEY />
			<AUTOINCREMENT />
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL />
		</field>
		<field name="contact_author" type="I8">
			<DEFAULT VALUE="0"/>
		</field>
		<field name="seq" type="F">
			<NOTNULL />
			<DEFAULT VALUE="0"/>
		</field>
		<field name="revision_ETC" type="I8">
			<NOTNULL />
		</field>
	</table>
	<!--
	  *
	  * TABLE monographs
	  *
	  -->
	<table name="monographs">
		<field name="monograph_id" type="I8">
			<KEY />
			<AUTOINCREMENT />
		</field>
		<field name="user_id" type="I8">
			<NOTNULL />
		</field>
		<field name="press_id" type="I8">
			<NOTNULL />
		</field>
		<field name="section_id" type="I8" />
		<field name="edited_volume" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="language" type="C2" size="10">
			<DEFAULT VALUE="en"/>
		</field>
		<field name="comments_to_ed" type="X"/>
		<field name="date_submitted" type="T"/>
		<field name="last_modified" type="T"/>
		<field name="date_status_modified" type="T"/>
		<field name="status" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="submission_progress" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="current_round" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="submission_file_id" type="I8"/>
		<field name="revised_file_id" type="I8"/>
		<field name="review_file_id" type="I8"/>
		<field name="editor_file_id" type="I8"/>
		<field name="copyedit_file_id" type="I8"/>
		<field name="pages" type="C2" size="255"/>
		<field name="fast_tracked" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_author" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="comments_status" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<descr>Monographs.</descr>
		<index name="monographs_user_id">
			<col>user_id</col>
		</index>
		<index name="monographs_press_id">
			<col>press_id</col>
		</index>
		<index name="monographs_section_id">
			<col>section_id</col>
		</index>
	</table>
	<!--
	  *
	  * TABLE copyed_assignments
	  *
	  -->
	<table name="copyed_assignments">
		<field name="copyed_id" type="I8">
			<KEY/>
			<AUTOINCREMENT/>
		</field>
		<field name="monograph_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="copyeditor_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="copyedit_revision" type="I8"/>
		<field name="date_notified" type="T"/>
		<field name="date_underway" type="T"/>
		<field name="date_completed" type="T"/>
		<field name="date_acknowledged" type="T"/>
		<field name="date_author_notified" type="T"/>
		<field name="date_author_underway" type="T"/>
		<field name="date_author_completed" type="T"/>
		<field name="date_author_acknowledged" type="T"/>
		<field name="date_final_notified" type="T"/>
		<field name="date_final_underway" type="T"/>
		<field name="date_final_completed" type="T"/>
		<field name="date_final_acknowledged" type="T"/>
		<field name="initial_revision" type="I8"/>
		<field name="editor_author_revision" type="I8"/>
		<field name="final_revision" type="I8"/>
		<descr>Copyediting assignments.</descr>
		<index name="copyed_assignments_monograph_id">
			<col>monograph_id</col>
		</index>
		<index name="copyed_assignments_copyeditor_id">
			<col>copyeditor_id</col>
		</index>
	</table>
	
	<!--
	  *
	  * TABLE series
	  *
	  -->
	<table name="series">
		<field name="section_id" type="I8">
			<KEY />
			<AUTOINCREMENT />
		</field>
		<field name="press_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="review_form_id" type="I8" />
		<field name="seq" type="F">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="editor_restricted" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="meta_indexed" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="meta_reviewed" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="abstracts_not_required" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_title" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_author" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="hide_about" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="disable_comments" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<descr>Journal sections.</descr>
		<index name="seriess_press_id">
			<col>press_id</col>
		</index>
	</table>
	
	<!--
	  *
	  * TABLE series_settings
	  *
	  -->
	<table name="series_settings">
		<field name="series_id" type="I8">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Section-specific settings</descr>
		<index name="series_settings_series_id">
			<col>series_id</col>
		</index>
		<index name="series_settings_pkey">
			<col>series_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE />
		</index>
	</table>
	
	<!--
	  *
	  * TABLE series_editors
	  *
	  -->
	<table name="series_editors">
		<field name="press_id" type="I8">
			<NOTNULL />
		</field>
		<field name="series_id" type="I8">
			<NOTNULL />
		</field>
		<field name="user_id" type="I8">
			<NOTNULL />
		</field>
		<field name="can_edit" type="I1">
			<NOTNULL />
			<DEFAULT VALUE="1" />
		</field>
		<field name="can_review" type="I1">
			<NOTNULL />
			<DEFAULT VALUE="1" />
		</field>
		<descr>Assignments of series editors to series.</descr>
		<index name="series_editors_press_id">
			<col>press_id</col>
		</index>
		<index name="series_editors_series_id">
			<col>series_id</col>
		</index>
		<index name="series_editors_user_id">
			<col>user_id</col>
		</index>
		<index name="series_editors_pkey">
			<col>press_id</col>
			<col>series_id</col>
			<col>user_id</col>
			<UNIQUE />
		</index>
	</table>
	<!--
	  *
	  * TABLE article_settings
	  *
	  -->
	<table name="monograph_settings">
		<field name="monograph_id" type="I8">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
			<descr>(bool|int|float|string|object)</descr>
		</field>
		<descr>Journal article metadata.</descr>
		<index name="monograph_settings_monograph_id">
			<col>article_id</col>
		</index>
		<index name="monograph_settings_pkey">
			<col>monograph_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE/>
		</index>
	</table>
	
	<!-- 
	  *
	  * TABLE groups
	  *
	  -->
	<table name="groups">
		<field name="group_id" type="I8">
			<KEY />
			<AUTOINCREMENT/>
		</field>
		<field name="context" type="I8"/>
		<field name="press_id" type="I8">
			<NOTNULL/>
		</field>
		<field name="about_displayed" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<field name="seq" type="F">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<index name="groups_press_id">
			<col>press_id</col>
		</index>
	</table>

	<!-- 
	  *
	  * TABLE group_settings
	  *
	  -->
	<table name="group_settings">
		<field name="group_id" type="I8">
			<NOTNULL />
		</field>
		<field name="locale" type="C2" size="5">
			<NOTNULL />
			<DEFAULT VALUE=""/>
		</field>
		<field name="setting_name" type="C2" size="255">
			<NOTNULL />
		</field>
		<field name="setting_value" type="X"/>
		<field name="setting_type" type="C2" size="6">
			<NOTNULL/>
		</field>
		<descr>Language dependent group data.</descr>
		<index name="group_settings_group_id">
			<col>group_id</col>
		</index>
		<index name="group_settings_pkey">
			<col>group_id</col>
			<col>locale</col>
			<col>setting_name</col>
			<UNIQUE />
		</index>
	</table>
	
	<!-- 
	  *
	  * TABLE group_memberships
	  *
	 -->
	<table name="group_memberships">
		<field name="user_id" type="I8">
			<NOTNULL />
		</field>
		<field name="group_id" type="I8">
			<NOTNULL />
		</field>
		<field name="about_displayed" type="I1">
			<NOTNULL/>
			<DEFAULT VALUE="1"/>
		</field>
		<field name="seq" type="F">
			<NOTNULL/>
			<DEFAULT VALUE="0"/>
		</field>
		<index name="group_memberships_pkey">
			<col>user_id</col>
			<col>group_id</col>
			<UNIQUE/>
		</index>
	</table>

	
</schema>